- name: "Configuration Play"
  hosts: web
  user: ubuntu
  gather_facts: false


  vars:
    - ansible_python_interpreter: /usr/bin/python3
    - ansible_host_key_checking: false
    - ansible_stdout_callback: yaml

  tasks:
   - name: Add Kubernetes Signing Key
     become: true
     raw: curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add
   
   - name: Add specified repository into sources list
     apt:
      repo: deb http://apt.kubernetes.io/ kubernetes-xenial main
      state: present  
   
   - name: "Copy files to EC2 instance"
     copy:
        src: /root/project
        dest: /home/ubuntu
        force : yes 

    